{"ast":null,"code":"\"use client\";\n\nvar _jsxFileName = \"/Users/sonamdorjighalley/Desktop/SS2025_SWE201_PINTEREST/App.tsx\";\nimport { useState, useEffect } from \"react\";\nimport { NavigationContainer } from \"@react-navigation/native\";\nimport { createBottomTabNavigator } from \"@react-navigation/bottom-tabs\";\nimport { supabase } from \"./lib/supabase\";\nimport AuthNavigator from \"./navigation/AuthNavigator\";\nimport FeedScreen from \"./screens/FeedScreen\";\nimport UploadScreen from \"./screens/UploadScreen\";\nimport ProfileScreen from \"./screens/ProfileScreen\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport View from \"react-native-web/dist/exports/View\";\nimport ActivityIndicator from \"react-native-web/dist/exports/ActivityIndicator\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Tab = createBottomTabNavigator();\nexport default function App() {\n  const [session, setSession] = useState(null);\n  const [loading, setLoading] = useState(true);\n  useEffect(() => {\n    supabase.auth.getSession().then(({\n      data: {\n        session\n      }\n    }) => {\n      console.log(\"Initial session check:\", !!session);\n      setSession(session);\n      setLoading(false);\n    });\n    const {\n      data: {\n        subscription\n      }\n    } = supabase.auth.onAuthStateChange((_event, session) => {\n      console.log(\"Auth state changed:\", _event, !!session, session?.user?.id);\n      setSession(session);\n      setLoading(false);\n    });\n    return () => subscription.unsubscribe();\n  }, []);\n  if (loading) {\n    return _jsxDEV(View, {\n      style: {\n        flex: 1,\n        justifyContent: \"center\",\n        alignItems: \"center\",\n        backgroundColor: \"#fff\"\n      },\n      children: [_jsxDEV(ActivityIndicator, {\n        size: \"large\",\n        color: \"#e60023\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 44,\n        columnNumber: 9\n      }, this), _jsxDEV(Text, {\n        style: {\n          marginTop: 16,\n          fontSize: 16,\n          color: \"#666\"\n        },\n        children: \"Loading...\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 45,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 7\n    }, this);\n  }\n  if (!session) {\n    console.log(\"No session found, showing auth screens\");\n    return _jsxDEV(NavigationContainer, {\n      children: _jsxDEV(AuthNavigator, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 7\n    }, this);\n  }\n  console.log(\"Session found, showing main app\");\n  return _jsxDEV(NavigationContainer, {\n    children: _jsxDEV(Tab.Navigator, {\n      screenOptions: {\n        tabBarActiveTintColor: \"#e60023\",\n        tabBarInactiveTintColor: \"#666\",\n        headerStyle: {\n          backgroundColor: \"#fff\"\n        },\n        headerTitleStyle: {\n          fontWeight: \"bold\"\n        }\n      },\n      children: [_jsxDEV(Tab.Screen, {\n        name: \"Feed\",\n        component: FeedScreen,\n        options: {\n          tabBarIcon: ({\n            color\n          }) => _jsxDEV(Text, {\n            style: {\n              color,\n              fontSize: 20\n            },\n            children: \"\\uD83C\\uDFE0\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 80,\n            columnNumber: 40\n          }, this),\n          title: \"Home\"\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 9\n      }, this), _jsxDEV(Tab.Screen, {\n        name: \"Upload\",\n        component: UploadScreen,\n        options: {\n          tabBarIcon: ({\n            color\n          }) => _jsxDEV(Text, {\n            style: {\n              color,\n              fontSize: 20\n            },\n            children: \"\\u2795\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 88,\n            columnNumber: 40\n          }, this),\n          title: \"Upload\"\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 9\n      }, this), _jsxDEV(Tab.Screen, {\n        name: \"Profile\",\n        component: ProfileScreen,\n        options: {\n          tabBarIcon: ({\n            color\n          }) => _jsxDEV(Text, {\n            style: {\n              color,\n              fontSize: 20\n            },\n            children: \"\\uD83D\\uDC64\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 96,\n            columnNumber: 40\n          }, this),\n          title: \"Profile\"\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 92,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 63,\n    columnNumber: 5\n  }, this);\n}","map":{"version":3,"names":["_jsxFileName","useState","useEffect","NavigationContainer","createBottomTabNavigator","supabase","AuthNavigator","FeedScreen","UploadScreen","ProfileScreen","Text","View","ActivityIndicator","jsxDEV","_jsxDEV","Tab","App","session","setSession","loading","setLoading","auth","getSession","then","data","console","log","subscription","onAuthStateChange","_event","user","id","unsubscribe","style","flex","justifyContent","alignItems","backgroundColor","children","size","color","fileName","lineNumber","columnNumber","marginTop","fontSize","Navigator","screenOptions","tabBarActiveTintColor","tabBarInactiveTintColor","headerStyle","headerTitleStyle","fontWeight","Screen","name","component","options","tabBarIcon","title"],"sources":["/Users/sonamdorjighalley/Desktop/SS2025_SWE201_PINTEREST/App.tsx"],"sourcesContent":["\"use client\"\n\nimport { useState, useEffect } from \"react\"\nimport { NavigationContainer } from \"@react-navigation/native\"\nimport { createBottomTabNavigator } from \"@react-navigation/bottom-tabs\"\nimport type { Session } from \"@supabase/supabase-js\"\nimport { supabase } from \"./lib/supabase\"\nimport AuthNavigator from \"./navigation/AuthNavigator\"\nimport FeedScreen from \"./screens/FeedScreen\"\nimport UploadScreen from \"./screens/UploadScreen\"\nimport ProfileScreen from \"./screens/ProfileScreen\"\nimport { Text, View, ActivityIndicator } from \"react-native\"\n\nconst Tab = createBottomTabNavigator()\n\nexport default function App() {\n  const [session, setSession] = useState<Session | null>(null)\n  const [loading, setLoading] = useState(true)\n\n  useEffect(() => {\n    // Get initial session\n    supabase.auth.getSession().then(({ data: { session } }) => {\n      console.log(\"Initial session check:\", !!session)\n      setSession(session)\n      setLoading(false)\n    })\n\n    // Listen for auth changes\n    const {\n      data: { subscription },\n    } = supabase.auth.onAuthStateChange((_event, session) => {\n      console.log(\"Auth state changed:\", _event, !!session, session?.user?.id)\n      setSession(session)\n      setLoading(false)\n    })\n\n    return () => subscription.unsubscribe()\n  }, [])\n\n  // Show loading screen while checking auth state\n  if (loading) {\n    return (\n      <View style={{ flex: 1, justifyContent: \"center\", alignItems: \"center\", backgroundColor: \"#fff\" }}>\n        <ActivityIndicator size=\"large\" color=\"#e60023\" />\n        <Text style={{ marginTop: 16, fontSize: 16, color: \"#666\" }}>Loading...</Text>\n      </View>\n    )\n  }\n\n  // Show auth screens if no session\n  if (!session) {\n    console.log(\"No session found, showing auth screens\")\n    return (\n      <NavigationContainer>\n        <AuthNavigator />\n      </NavigationContainer>\n    )\n  }\n\n  // Show main app if user is signed in\n  console.log(\"Session found, showing main app\")\n  return (\n    <NavigationContainer>\n      <Tab.Navigator\n        screenOptions={{\n          tabBarActiveTintColor: \"#e60023\",\n          tabBarInactiveTintColor: \"#666\",\n          headerStyle: {\n            backgroundColor: \"#fff\",\n          },\n          headerTitleStyle: {\n            fontWeight: \"bold\",\n          },\n        }}\n      >\n        <Tab.Screen\n          name=\"Feed\"\n          component={FeedScreen}\n          options={{\n            tabBarIcon: ({ color }) => <Text style={{ color, fontSize: 20 }}>üè†</Text>,\n            title: \"Home\",\n          }}\n        />\n        <Tab.Screen\n          name=\"Upload\"\n          component={UploadScreen}\n          options={{\n            tabBarIcon: ({ color }) => <Text style={{ color, fontSize: 20 }}>‚ûï</Text>,\n            title: \"Upload\",\n          }}\n        />\n        <Tab.Screen\n          name=\"Profile\"\n          component={ProfileScreen}\n          options={{\n            tabBarIcon: ({ color }) => <Text style={{ color, fontSize: 20 }}>üë§</Text>,\n            title: \"Profile\",\n          }}\n        />\n      </Tab.Navigator>\n    </NavigationContainer>\n  )\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{"hasCjsExports":false},"sourceType":"module","externalDependencies":[]}